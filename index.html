<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Walters slider</title>
	<style>
		/* Slider markup */
		.slider{
			width: 500px;
			height: 50px;
			margin: 20px 200px;
			cursor: pointer;

			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			-o-user-select: none;
			user-select: none; 
		}
		.sliderBackground{
			background-color: #ccc;
			border-radius: 5px;
			height: 10px;
			position: relative;
			top: 20px;
		}
		.sliderHead{
			position: relative;
			left: 0px;
			top: 5px;
			height: 20px;
			width: 20px;
			background-color: green;
			border-radius: 2px;
		}

		/*Just remove this section! This is only to display the slider value and markup for input fields etc*/
		body{
			font-size: 16px;
		}

		#sliderValue{
			font-size: arial;
			font-size: 2rem;
		}

		label,
		p{
			font-size: 1.5rem;
		}
	</style>

</head>
<body>
	<br />
	
	<!-- Markup for slider -->
	<div class="slider" id="slider1">
		<div class="sliderBackground"></div>
		<div class="sliderHead"></div>
	</div>

	<!-- Just remove this section! HTML divs here are only for showing the slider values and letting you choose values etc -->
	<hr />
	<div id="sliderValue">No value yet</div>
	<hr />
	<label for="minvalue">Type a minimum value</label>
	<input type="text" name="minvalue" id="minvalue"/>
	<p id="curMin">Current minvalue</p>
	<br />
	<label for="maxvalue">Type a maximum value</label>
	<input type="text" name="maxvalue" id="maxvalue"/>
	<p id="curMax">Current maxvalue</p>
	<button id="changeValues">Change</button>

	<!-- Slider scripts -->
	<script src="js/jquery-1.11.2.min.js" value="2"></script>
	<script>

		var slider = $("#slider1");
		var sliderHead = slider.children(".sliderHead");
		var sliderHead_Width_Half = sliderHead.width();
		var maxSlideX = slider.width() + slider.offset().left +sliderHead_Width_Half;
		var minSlideX = slider.offset().left +sliderHead_Width_Half;
		var slideActive = false;

		//Default min and max slider values
		var sliderMinValue = 0;
		var sliderMaxValue = 10;

		//Here is the slider value for your use. If you want it to be a round number, just use Math.round(sliderValue);
		var sliderValue = 0;

		function moveSlider(mouseMovementX){
			var sliderHead_WidthAndOffset = sliderHead_Width_Half + slider.offset().left;
			
			var moveHeadToThisXCoord = (mouseMovementX > minSlideX && mouseMovementX < maxSlideX) ? mouseMovementX : moveHeadToThisXCoord;
			sliderHead.css({"left" : (moveHeadToThisXCoord - sliderHead_WidthAndOffset) + "px"});

			//Sets the slider value that we have defined in the top of this script. This value can be used as you like
			sliderValue = (( (sliderMaxValue - sliderMinValue) / (maxSlideX-minSlideX) ) * (mouseMovementX - slider.offset().left)) +sliderMinValue;
			
			//Just remove this line! Only to show the value in html
			$("#sliderValue").text(sliderValue);

		}

		$(function(){
			//TOGGLE FUNCTIONS
			sliderHead.on("mousedown", function(){
				slideActive = true;
			});

			$("body").on("mouseup", function(){
				slideActive = false;
			});

			slider.on("mousemove", function(event){
				if(slideActive){
					moveSlider(event.pageX);
				}
			});

			//For phones and touch devices
			slider.on("touchmove", function(event){
				event.preventDefault();
				var touch = event.originalEvent.touches[0];
				moveSlider(touch.pageX);
			});

			sliderHead.on("touchmove mousemove", function(event){
				event.preventDefault();
				if(slideActive){
					moveSlider(event.pageX);
				}
			});

			//If we click on the slider, we want the sliderhead to snap to that position
			slider.on("touchstart click", function(event){
				moveSlider(event.pageX);
			});
		});
		



		/*Just remove this block of code beneath here! Only for html showoff of the slider*/
		function setMinAndMaxValues(){
			sliderMinValue = $("#minvalue").val() != null && !isNaN(parseInt($("#minvalue").val())) ? parseInt($("#minvalue").val()) : sliderMinValue;
			sliderMaxValue = $("#maxvalue").val() != null && !isNaN(parseInt($("#maxvalue").val())) ? parseInt($("#maxvalue").val()) : sliderMaxValue;
			setMinAndMaxInfo();
		}

		function setMinAndMaxInfo(){
			$("#curMin").text(sliderMinValue);
			$("#curMax").text(sliderMaxValue);
		}

		$(function(){
			setMinAndMaxInfo();
			
			$("#changeValues").on("click", function(){
				setMinAndMaxValues();
			});
		});
	</script>
</body>
</html>